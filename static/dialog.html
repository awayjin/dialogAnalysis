<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>dialog</title>
    <link rel="stylesheet" href="css/dialog.css"/>
    <link rel="stylesheet" href="css/bootstrap-3.3.0.css"/>
    <script src="../lib/sea-debug.js"></script>


</head>
<body>

<script>

/*
* paths 一般是用在多域名的模块路径的情况下的。

 比如 seajs.use(['path1/a', 'path2/b'])

 a 的位置是 www.path1.com/a.js ，b 的位置是 www.path2.com/b.js 。这种情况下，如果只有 base ，你就不好配了，用 paths 则可以解决。

 paths: {
 'path1': 'http://www.path1.com',
 'path2': 'http://www.path2.com'
 }
* */
    seajs.config({
        //base路径是以当前页面加载为根路径
        base: "./",
        //paths怎样设置都没用
        paths: {
//            'dialog': "http://localhost:81/htmlComponent/src/",
            'path': "http://localhost:81/htmlComponent/lib/"
        },
        alias: {
            'dialog': "../src/dialog",
            'core': "../src/core",
            'jquery': "../lib/jquery",
            "sizzle": "../lib/sizzle.js",
            "type": "../src/type"
            //, "demo": "./path/demo"
        }

    });

    seajs.use("../src/dialog", function(dialog){
        dialog({
            test: "a-test",
            ok: function (){
                alert(11);
                return false;

            },
            cancel: function () {

                return false;
            }
        });
        dialog();
    });


    // seajs.use("demo");
    seajs.use("dialog", function(dialog){
	   
		
		dialog({ 
			ok: function (){
				alert(22);
			},
			cancel: 11
		
		})
		
	});




    //seajs.use("dialog");

</script>


<div class="panel panel-primary">
    <div class="panel-heading">
        <div class="panel-title">测试</div>
    </div>
   <div class="panel-body">
       <div class="row">
           <div class="form-group">
             <div class="col-md-12">
                  <label class="col-md-2 control-label">按钮组</label>
                  <div class="col-md-10">
                      <button class="btn btn-primary">取消</button>
                      <div class="btn btn-success">确定</div>
                      <div class="btn btn-default">确定</div>
                      <div class="btn btn-warning">警告</div>
                  </div>
              </div>
           </div>
       </div>
   </div>
</div>


<!--<script src="../lib/sizzle.js"></script>-->

<script>

    seajs.use(["core", "sizzle"], function (core, $) {
        // var panel = document.getElementsByClassName("panel")[0];
        core($(".panel")[0]).bind("click", function (e) {
            this.remove();
        });
    })


    // 检查页面是否有重复id
    function isRepeatId(){
        var eles = document.getElementsByTagName("*");
        var arr = []; // 重复id数组
        var obj = {};
        var id = ''; // 重复id

        for (var i=0; i<eles.length; i++) {
            id = eles[i].id;
            if (id) {
                // arr.push(id);
                if ( obj[id] ) {
                    console.log("重复id:", id, ", 第一个元素位置:" + obj[id], ", 重复元素位置:" + i);
                    arr.push(id);
                } else {

                    obj[id] = i;
                }
            }

        }

        console.log(arr);

    }

    // 数组去重
    function isRepeatArray(){

        var arr = [];
        var obj2 = {};
        var arr2 = ["a", 232, 22, "a", 11, 22, "a", "sdfsd", "d", 11, "d"];


        for (var i=0; i<arr2.length; i++) {
            if ( !obj2[arr2[i]] ) {
                arr.push(arr2[i]);
                obj2[arr2[i]] = true;
            }
        }
        return arr;
    }

    console.log(isRepeatArray());

    /*
    // 破坏性
    Array.prototype.unique1 = function () {
        var n = []; //一个新的临时数组
        for (var i = 0; i < this.length; i++) //遍历当前数组
        {
            //如果当前数组的第i已经保存进了临时数组，那么跳过，
            //否则把当前项push到临时数组里面
            if (n.indexOf(this[i]) == -1) n.push(this[i]);
        }
        return n;
    }
    */
</script>

<!--
<div class="modal-dialog">
    <div class="modal-title">标题</div>
    <div class="modal-content">
        <p>内容</p>
    </div>
    <div class="modal-footer">
        <div class="btn btn-success">确定</div>
    </div>
</div>

<div class='dialog-outer' data-alert='alert' style="left: 20px; top: 300px;">
    <div class="dialog-title">
        <span>对话框</span> <span class="dialog-close">&times;</span>
    </div>

    <div class="dialog-content">
        内容
    </div>

    <div class="dialog-btn">
        <button class="btn-ok">确定</button>
        <button class="btn-cancel">取消</button>
    </div>
</div>
-->
</body>
</html>